#entry main

:square
	mul %bx %bx			; Square number
	ret

:cube
	push %bx			; Save original number
	call @square		; Square the number
	pop %cx				; Get original back
	mul %bx %cx			; Multiply once more
	ret

:main					; Start here
	mov %ax &sysCall	; Set system interrupt
	mov %bx &myNum		; Set number to be cubed
	call @cube		; Actually cube the number
	sysi

	mov %ax $3			; Print new-line
	mov %bx $10
	sysi

	mov %ax $1			; Exit
	mov %bx $0
	sysi

#data
	stb *myNum $7		; Store 6 in memory
	stb *sysCall $4		; Needed for compilation testing
#end